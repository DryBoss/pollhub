var ye=Object.defineProperty;var ke=(e,t,n)=>t in e?ye(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var ee=(e,t,n)=>ke(e,typeof t!="symbol"?t+"":t,n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))l(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const r of s.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&l(r)}).observe(document,{childList:!0,subtree:!0});function n(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function l(o){if(o.ep)return;o.ep=!0;const s=n(o);fetch(o.href,s)}})();function C(){}function _e(e){return e()}function se(){return Object.create(null)}function V(e){e.forEach(_e)}function me(e){return typeof e=="function"}function R(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function Pe(e){return Object.keys(e).length===0}function h(e,t){e.appendChild(t)}function O(e,t,n){e.insertBefore(t,n||null)}function S(e){e.parentNode&&e.parentNode.removeChild(e)}function ge(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function g(e){return document.createElement(e)}function oe(e){return document.createTextNode(e)}function P(){return oe(" ")}function Ce(){return oe("")}function q(e,t,n,l){return e.addEventListener(t,n,l),()=>e.removeEventListener(t,n,l)}function Se(e){return function(t){return t.preventDefault(),e.call(this,t)}}function m(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function Oe(e){return Array.from(e.childNodes)}function Y(e,t){e.value=t??""}function Z(e,t,n){e.classList.toggle(t,!!n)}function Ee(e,t,{bubbles:n=!1,cancelable:l=!1}={}){return new CustomEvent(e,{detail:t,bubbles:n,cancelable:l})}let K;function F(e){K=e}function Ae(){if(!K)throw new Error("Function called outside component initialization");return K}function $e(){const e=Ae();return(t,n,{cancelable:l=!1}={})=>{const o=e.$$.callbacks[t];if(o){const s=Ee(t,n,{cancelable:l});return o.slice().forEach(r=>{r.call(e,s)}),!s.defaultPrevented}return!0}}const I=[],re=[];let B=[];const ie=[],Le=Promise.resolve();let ne=!1;function ze(){ne||(ne=!0,Le.then(ve))}function le(e){B.push(e)}const te=new Set;let D=0;function ve(){if(D!==0)return;const e=K;do{try{for(;D<I.length;){const t=I[D];D++,F(t),Me(t.$$)}}catch(t){throw I.length=0,D=0,t}for(F(null),I.length=0,D=0;re.length;)re.pop()();for(let t=0;t<B.length;t+=1){const n=B[t];te.has(n)||(te.add(n),n())}B.length=0}while(I.length);for(;ie.length;)ie.pop()();ne=!1,te.clear(),F(e)}function Me(e){if(e.fragment!==null){e.update(),V(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(le)}}function Ne(e){const t=[],n=[];B.forEach(l=>e.indexOf(l)===-1?t.push(l):n.push(l)),n.forEach(l=>l()),B=t}const X=new Set;let T;function we(){T={r:0,c:[],p:T}}function be(){T.r||V(T.c),T=T.p}function M(e,t){e&&e.i&&(X.delete(e),e.i(t))}function N(e,t,n,l){if(e&&e.o){if(X.has(e))return;X.add(e),T.c.push(()=>{X.delete(e),l&&(n&&e.d(1),l())}),e.o(t)}else l&&l()}function H(e){return(e==null?void 0:e.length)!==void 0?e:Array.from(e)}function qe(e,t){N(e,1,1,()=>{t.delete(e.key)})}function Te(e,t,n,l,o,s,r,i,a,c,d,u){let _=e.length,p=s.length,f=_;const y={};for(;f--;)y[e[f].key]=f;const $=[],j=new Map,E=new Map,k=[];for(f=p;f--;){const b=u(o,s,f),A=n(b);let L=r.get(A);L?k.push(()=>L.p(b,t)):(L=c(A,b),L.c()),j.set(A,$[f]=L),A in y&&E.set(A,Math.abs(f-y[A]))}const v=new Set,z=new Set;function w(b){M(b,1),b.m(i,d),r.set(b.key,b),d=b.first,p--}for(;_&&p;){const b=$[p-1],A=e[_-1],L=b.key,W=A.key;b===A?(d=b.first,_--,p--):j.has(W)?!r.has(L)||v.has(L)?w(b):z.has(W)?_--:E.get(L)>E.get(W)?(z.add(L),w(b)):(v.add(W),_--):(a(A,r),_--)}for(;_--;){const b=e[_];j.has(b.key)||a(b,r)}for(;p;)w($[p-1]);return V(k),$}function x(e){e&&e.c()}function U(e,t,n){const{fragment:l,after_update:o}=e.$$;l&&l.m(t,n),le(()=>{const s=e.$$.on_mount.map(_e).filter(me);e.$$.on_destroy?e.$$.on_destroy.push(...s):V(s),e.$$.on_mount=[]}),o.forEach(le)}function G(e,t){const n=e.$$;n.fragment!==null&&(Ne(n.after_update),V(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function Ve(e,t){e.$$.dirty[0]===-1&&(I.push(e),ze(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function J(e,t,n,l,o,s,r=null,i=[-1]){const a=K;F(e);const c=e.$$={fragment:null,ctx:[],props:s,update:C,not_equal:o,bound:se(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(a?a.$$.context:[])),callbacks:se(),dirty:i,skip_bound:!1,root:t.target||a.$$.root};r&&r(c.root);let d=!1;if(c.ctx=n?n(e,t.props||{},(u,_,...p)=>{const f=p.length?p[0]:_;return c.ctx&&o(c.ctx[u],c.ctx[u]=f)&&(!c.skip_bound&&c.bound[u]&&c.bound[u](f),d&&Ve(e,u)),_}):[],c.update(),d=!0,V(c.before_update),c.fragment=l?l(c.ctx):!1,t.target){if(t.hydrate){const u=Oe(t.target);c.fragment&&c.fragment.l(u),u.forEach(S)}else c.fragment&&c.fragment.c();t.intro&&M(e.$$.fragment),U(e,t.target,t.anchor),ve()}F(a)}class Q{constructor(){ee(this,"$$");ee(this,"$$set")}$destroy(){G(this,1),this.$destroy=C}$on(t,n){if(!me(n))return C;const l=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return l.push(n),()=>{const o=l.indexOf(n);o!==-1&&l.splice(o,1)}}$set(t){this.$$set&&!Pe(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const je="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(je);function De(e){let t;return{c(){t=g("header"),t.innerHTML='<h1 class="svelte-16717zz">Poll<span class="svelte-16717zz">Hub</span></h1>'},m(n,l){O(n,t,l)},p:C,i:C,o:C,d(n){n&&S(t)}}}class Ie extends Q{constructor(t){super(),J(this,t,null,De,R,{})}}function ce(e,t,n){const l=e.slice();return l[4]=t[n],l[6]=n,l}function ue(e){let t,n,l,o;return{c(){t=g("li"),n=g("span"),n.textContent=`${e[1][e[6]]}`,l=g("span"),l.textContent=`${e[2][e[6]]}`,o=P(),m(t,"class","svelte-qrzv2f")},m(s,r){O(s,t,r),h(t,n),h(t,l),h(t,o)},p:C,d(s){s&&S(t)}}}function Be(e){let t,n,l,o,s=H(e[1]),r=[];for(let i=0;i<s.length;i+=1)r[i]=ue(ce(e,s,i));return{c(){t=g("li"),n=g("p"),n.textContent=`${e[0]}`,l=P(),o=g("ul");for(let i=0;i<r.length;i+=1)r[i].c();m(n,"class","title svelte-qrzv2f"),m(o,"class","options svelte-qrzv2f"),m(t,"class","poll svelte-qrzv2f")},m(i,a){O(i,t,a),h(t,n),h(t,l),h(t,o);for(let c=0;c<r.length;c+=1)r[c]&&r[c].m(o,null)},p(i,[a]){if(a&6){s=H(i[1]);let c;for(c=0;c<s.length;c+=1){const d=ce(i,s,c);r[c]?r[c].p(d,a):(r[c]=ue(d),r[c].c(),r[c].m(o,null))}for(;c<r.length;c+=1)r[c].d(1);r.length=s.length}},i:C,o:C,d(i){i&&S(t),ge(r,i)}}}function He(e,t,n){let{poll:l}=t,o=l[0],s=[];for(let i=1;i<Math.floor(l.length/2+1);i++)s.push(l[i]);let r=[];for(let i=Math.floor(l.length/2+1);i<l.length;i++)r.push(l[i]);return e.$$set=i=>{"poll"in i&&n(3,l=i.poll)},[o,s,r,l]}class Fe extends Q{constructor(t){super(),J(this,t,He,Be,R,{poll:3})}}function fe(e,t,n){const l=e.slice();return l[3]=t[n],l[5]=n,l}function ae(e,t){let n,l,o;return l=new Fe({props:{poll:t[3]}}),{key:e,first:null,c(){n=Ce(),x(l.$$.fragment),this.first=n},m(s,r){O(s,n,r),U(l,s,r),o=!0},p(s,r){t=s;const i={};r&1&&(i.poll=t[3]),l.$set(i)},i(s){o||(M(l.$$.fragment,s),o=!0)},o(s){N(l.$$.fragment,s),o=!1},d(s){s&&S(n),G(l,s)}}}function Ke(e){let t,n,l,o=[],s=new Map,r,i,a,c,d,u=H(e[0]);const _=p=>p[5];for(let p=0;p<u.length;p+=1){let f=fe(e,u,p),y=_(f);s.set(y,o[p]=ae(y,f))}return{c(){t=g("div"),n=g("div"),l=g("ul");for(let p=0;p<o.length;p+=1)o[p].c();r=P(),i=g("button"),i.textContent="Create poll",m(l,"class","svelte-1dm7hcw"),m(n,"class","pollList svelte-1dm7hcw"),m(i,"class","createPoll svelte-1dm7hcw"),m(t,"class","addPoll")},m(p,f){O(p,t,f),h(t,n),h(n,l);for(let y=0;y<o.length;y+=1)o[y]&&o[y].m(l,null);h(t,r),h(t,i),a=!0,c||(d=q(i,"click",e[1]),c=!0)},p(p,[f]){f&1&&(u=H(p[0]),we(),o=Te(o,f,_,1,p,u,s,l,qe,ae,null,fe),be())},i(p){if(!a){for(let f=0;f<u.length;f+=1)M(o[f]);a=!0}},o(p){for(let f=0;f<o.length;f+=1)N(o[f]);a=!1},d(p){p&&S(t);for(let f=0;f<o.length;f+=1)o[f].d();c=!1,d()}}}function Re(e,t,n){let l=$e(),{polls:o}=t;function s(){l("changeScreen","addPolls")}return e.$$set=r=>{"polls"in r&&n(0,o=r.polls)},[o,s]}class Ue extends Q{constructor(t){super(),J(this,t,Re,Ke,R,{polls:0})}}function de(e,t,n){const l=e.slice();return l[13]=t[n],l[14]=t,l[15]=n,l}function pe(e){let t,n,l;function o(){return e[9](e[15])}return{c(){t=g("button"),t.textContent="Delete",m(t,"class","delete svelte-193maoo")},m(s,r){O(s,t,r),n||(l=q(t,"click",o),n=!0)},p(s,r){e=s},d(s){s&&S(t),n=!1,l()}}}function he(e){let t,n,l,o,s,r,i,a,c,d,u=e[2].length>2&&pe(e);function _(){e[10].call(r,e[15])}return{c(){t=g("div"),n=g("label"),l=g("p"),l.textContent="Option:",o=P(),u&&u.c(),s=P(),r=g("input"),i=P(),a=g("p"),a.textContent="option can't be empty",m(n,"for",`${e[15]}`),m(n,"class","svelte-193maoo"),m(r,"type","text"),m(r,"id",`${e[15]}`),m(r,"class","svelte-193maoo"),m(a,"class","error svelte-193maoo"),Z(a,"hide",e[3][e[15]]),m(t,"class","option field svelte-193maoo")},m(p,f){O(p,t,f),h(t,n),h(n,l),h(n,o),u&&u.m(n,null),h(t,s),h(t,r),Y(r,e[2][e[15]]),h(t,i),h(t,a),c||(d=q(r,"input",_),c=!0)},p(p,f){e=p,e[2].length>2?u?u.p(e,f):(u=pe(e),u.c(),u.m(n,null)):u&&(u.d(1),u=null),f&4&&r.value!==e[2][e[15]]&&Y(r,e[2][e[15]]),f&8&&Z(a,"hide",e[3][e[15]])},d(p){p&&S(t),u&&u.d(),c=!1,d()}}}function Ge(e){let t,n,l,o,s,r,i,a,c,d,u,_,p,f,y,$,j,E=H(e[2]),k=[];for(let v=0;v<E.length;v+=1)k[v]=he(de(e,E,v));return{c(){t=g("form"),n=g("div"),l=g("div"),o=g("label"),o.textContent="Poll Title:",s=P(),r=g("input"),i=P(),a=g("p"),a.textContent="title can't be empty",c=P(),d=g("ul");for(let v=0;v<k.length;v+=1)k[v].c();u=P(),_=g("button"),_.textContent="Add Option",p=P(),f=g("button"),f.textContent="Add",y=g("button"),y.textContent="Cancel",m(o,"for","title"),m(o,"class","svelte-193maoo"),m(r,"type","text"),m(r,"id","title"),m(r,"class","svelte-193maoo"),m(a,"class","error svelte-193maoo"),Z(a,"hide",e[1]),m(l,"class","title field svelte-193maoo"),m(_,"class","addOption svelte-193maoo"),m(_,"type","button"),m(n,"class","fields svelte-193maoo"),m(f,"class","done add svelte-193maoo"),m(f,"type","submit"),m(y,"class","done cancel svelte-193maoo"),m(y,"type","button")},m(v,z){O(v,t,z),h(t,n),h(n,l),h(l,o),h(l,s),h(l,r),Y(r,e[0]),h(l,i),h(l,a),h(n,c),h(n,d);for(let w=0;w<k.length;w+=1)k[w]&&k[w].m(d,null);h(d,u),h(d,_),h(t,p),h(t,f),h(t,y),$||(j=[q(r,"input",e[8]),q(_,"click",e[4]),q(y,"click",e[7]),q(t,"submit",Se(e[6]))],$=!0)},p(v,[z]){if(z&1&&r.value!==v[0]&&Y(r,v[0]),z&2&&Z(a,"hide",v[1]),z&44){E=H(v[2]);let w;for(w=0;w<E.length;w+=1){const b=de(v,E,w);k[w]?k[w].p(b,z):(k[w]=he(b),k[w].c(),k[w].m(d,u))}for(;w<k.length;w+=1)k[w].d(1);k.length=E.length}},i:C,o:C,d(v){v&&S(t),ge(k,v),$=!1,V(j)}}}function Je(e,t,n){let l=$e(),o="",s=!0,r=["",""],i=[!0,!0],a=[0,0];function c(){n(2,r=[...r,""]),i.push(!0),a.push(0)}function d($){r.splice($,1),a.pop(),n(2,r)}function u(){n(1,s=o!=="");for(let $=0;$<i.length;$++)n(3,i[$]=r[$]!=="",i);if(s&&i.every($=>$)){let $=[o,...r,...a];l("newPoll",$)}}function _(){l("changeScreen","showPolls")}function p(){o=this.value,n(0,o)}const f=$=>d($);function y($){r[$]=this.value,n(2,r)}return[o,s,r,i,c,d,u,_,p,f,y]}class Qe extends Q{constructor(t){super(),J(this,t,Je,Ge,R,{})}}function We(e){let t,n,l;return t=new Qe({}),t.$on("changeScreen",e[2]),t.$on("newPoll",e[3]),{c(){x(t.$$.fragment),n=oe(`
    console.log("show")`)},m(o,s){U(t,o,s),O(o,n,s),l=!0},p:C,i(o){l||(M(t.$$.fragment,o),l=!0)},o(o){N(t.$$.fragment,o),l=!1},d(o){o&&S(n),G(t,o)}}}function Xe(e){let t,n;return t=new Ue({props:{polls:e[1]}}),t.$on("changeScreen",e[2]),{c(){x(t.$$.fragment)},m(l,o){U(t,l,o),n=!0},p(l,o){const s={};o&2&&(s.polls=l[1]),t.$set(s)},i(l){n||(M(t.$$.fragment,l),n=!0)},o(l){N(t.$$.fragment,l),n=!1},d(l){G(t,l)}}}function Ye(e){let t,n,l,o,s,r;t=new Ie({});const i=[Xe,We],a=[];function c(d,u){return d[0]==="showPolls"?0:d[0]==="addPolls"?1:-1}return~(o=c(e))&&(s=a[o]=i[o](e)),{c(){x(t.$$.fragment),n=P(),l=g("main"),s&&s.c()},m(d,u){U(t,d,u),O(d,n,u),O(d,l,u),~o&&a[o].m(l,null),r=!0},p(d,[u]){let _=o;o=c(d),o===_?~o&&a[o].p(d,u):(s&&(we(),N(a[_],1,1,()=>{a[_]=null}),be()),~o?(s=a[o],s?s.p(d,u):(s=a[o]=i[o](d),s.c()),M(s,1),s.m(l,null)):s=null)},i(d){r||(M(t.$$.fragment,d),M(s),r=!0)},o(d){N(t.$$.fragment,d),N(s),r=!1},d(d){d&&(S(n),S(l)),G(t,d),~o&&a[o].d()}}}function Ze(e,t,n){let l="showPolls",o=[];function s(i){n(0,l=i.detail)}function r(i){n(1,o=[i.detail,...o]),n(0,l="showPolls")}return[l,o,s,r]}class xe extends Q{constructor(t){super(),J(this,t,Ze,Ye,R,{})}}new xe({target:document.getElementById("app")});
